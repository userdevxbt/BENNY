/**
 * SHDWXBT - auto-scanner.js
 * Copyright (c) 2024-2026 SHDWXBT. All rights reserved.
 * 
 * PROPRIETARY AND CONFIDENTIAL
 * Unauthorized copying, modification, distribution, or use is strictly prohibited.
 * This code is protected by intellectual property laws.
 * 
 * Build: 2026-01-28T12:08:10.418Z
 * Checksum: SHDW-24557C1B
 */
const a0_0x59c1ee=a0_0x43da;function a0_0x17e0(){const _0xcbe901=['‚ùå\x20Edge\x20Function\x20returned\x20error:','executionTime','baixa','minVolume','intervalId','‚úÖ\x20Opportunity:\x20','length','\x20-\x20An√°lise\x20Autom√°tica','\x20symbols','fallbackScan','üì¶\x20Processing\x20','Volume\x20detectado','state','\x20(Score:\x20','6406561TfIHhw','all','All\x20Routes','\x20\x20\x20Min\x20Confluence\x20for\x20Watchlist:\x20','log','opportunities','quoteVolume','processed','slice','‚ö†Ô∏è\x20getAllUSDTSymbols()\x20is\x20deprecated\x20-\x20API\x20calls\x20should\x20be\x20server-side\x20only','lastPrice','priceChangePercent','message','üí°\x20Use\x20scan-market\x20Edge\x20Function\x20instead','bullish','active','13413024YPGdFU','976816gCETNZ','üì°\x20Calling\x20scan-market\x20Edge\x20Function...','calculateSimpleScore','symbol','üëÅÔ∏è\x20Watchlist:\x20','‚ö†Ô∏è\x20Fallback\x20scan\x20complete\x20(limited\x20results)','route','\x20\x20\x20Max\x20Symbols:\x20','count','scanMarket','2745746icVhFB','error','‚ñ∂Ô∏è\x20Starting\x20first\x20scan...','scanInterval','abs','volume','warn','4188308DOPWFN','undefined','lastScan','‚è≥\x20Scan\x20already\x20in\x20progress...','‚ùå\x20Fallback\x20scan\x20also\x20failed:','‚úÖ\x20Edge\x20Function\x20scan\x20complete!','üìã\x20Configuration:','config','‚è±Ô∏è\x20First\x20scan\x20will\x20run\x20in\x205\x20seconds...','watchConfluence','üîÑ\x20Reloading\x20dashboard\x20with\x20new\x20data...','‚ö†Ô∏è\x20Using\x20fallback\x20scan\x20method\x20(without\x20methodology)...','AutoScanner','function','8duqqff','\x20\x20\x20Min\x20Confluence\x20for\x20Opportunities:\x20','min','üëÅÔ∏è\x20Watchlist\x20items:\x20','loadDashboard','getAllUSDTSymbols','getTickerData','3UrFqzl','scanned','isScanning','push','success','monitoramento\x20autom√°tico','minConfluence','üìä\x20Scanned:\x20','\x20\x20\x20Scan\x20Interval:\x20','confluence','‚è∏Ô∏è\x20Auto\x20Scanner\x20stopped','‚è≠Ô∏è\x20Skipping\x20scan\x20(previous\x20scan\x20still\x20running)','alta','batchSize','Volatilidade\x20presente','bearish','totalSymbols','‚è±Ô∏è\x20Execution\x20time:\x20','7706022hCMXvW','fullScan','‚úÖ\x20Interval\x20cleared','Volume','üîÑ\x20Trying\x20fallback\x20scan\x20method...','processBatch','\x20minutes','üîç\x20Starting\x20full\x20market\x20scan\x20via\x20Edge\x20Function\x20(ALL\x20ROUTES)...','6549000PVlDFM','üîÑ\x20Starting\x20periodic\x20scan...','watchlist','Error\x20analyzing\x20'];a0_0x17e0=function(){return _0xcbe901;};return a0_0x17e0();}(function(_0x1f3f31,_0x135fe6){const _0x47f0ea=a0_0x43da,_0x5f378b=_0x1f3f31();while(!![]){try{const _0x2e0ef0=parseInt(_0x47f0ea(0x20f))/0x1+-parseInt(_0x47f0ea(0x219))/0x2*(-parseInt(_0x47f0ea(0x235))/0x3)+-parseInt(_0x47f0ea(0x220))/0x4+parseInt(_0x47f0ea(0x1ec))/0x5+-parseInt(_0x47f0ea(0x1e4))/0x6+parseInt(_0x47f0ea(0x1fe))/0x7*(parseInt(_0x47f0ea(0x22e))/0x8)+-parseInt(_0x47f0ea(0x20e))/0x9;if(_0x2e0ef0===_0x135fe6)break;else _0x5f378b['push'](_0x5f378b['shift']());}catch(_0x356136){_0x5f378b['push'](_0x5f378b['shift']());}}}(a0_0x17e0,0xb7d42));const AutoScanner={'config':{'minConfluence':0x46,'watchConfluence':0x32,'maxSymbols':0x190,'minVolume':0x4c4b40,'batchSize':0x64,'batchDelay':0x7d0,'scanInterval':0x493e0,'route':'all'},'state':{'isScanning':![],'lastScan':null,'totalSymbols':0x0,'processed':0x0,'opportunities':0x0,'watchlist':0x0},async 'getAllUSDTSymbols'(){const _0x9c2c94=a0_0x43da;return console['warn'](_0x9c2c94(0x207)),console[_0x9c2c94(0x202)](_0x9c2c94(0x20b)),[];},async 'processBatch'(_0x55ae1f){const _0x1e70c9=a0_0x43da,_0x19a776={'opportunities':[],'watchlist':[]};for(const _0x5a5553 of _0x55ae1f){try{let _0x5bdd7e=null;if(typeof SupabaseFunctions!==_0x1e70c9(0x221))_0x5bdd7e=await SupabaseFunctions['analyzeSymbol'](_0x5a5553,TRADING_PROFILES['dayTrading']);else{const _0x15cd02=await this[_0x1e70c9(0x234)](_0x5a5553);if(!_0x15cd02)continue;const _0x763433=this[_0x1e70c9(0x211)](_0x15cd02);_0x5bdd7e={'symbol':_0x15cd02[_0x1e70c9(0x212)],'name':_0x15cd02[_0x1e70c9(0x212)]['replace']('USDT',''),'current_price':parseFloat(_0x15cd02[_0x1e70c9(0x208)]),'price_24h_pcnt':parseFloat(_0x15cd02[_0x1e70c9(0x209)]),'volume_24h':parseFloat(_0x15cd02[_0x1e70c9(0x21e)]),'trend':parseFloat(_0x15cd02['priceChangePercent'])>0x0?_0x1e70c9(0x20c):_0x1e70c9(0x1e1),'trend_label':parseFloat(_0x15cd02[_0x1e70c9(0x209)])>0x0?_0x1e70c9(0x241):_0x1e70c9(0x1f2),'setup':_0x1e70c9(0x23a),'analysis_title':_0x15cd02[_0x1e70c9(0x212)]+_0x1e70c9(0x1f7),'analysis_text':'Ativo\x20detectado\x20com\x20atividade.\x20Volume\x2024h:\x20'+_0x15cd02[_0x1e70c9(0x21e)]+'.\x20Varia√ß√£o:\x20'+_0x15cd02[_0x1e70c9(0x209)]+'%','confluence':{'score':_0x763433,'positive':[_0x1e70c9(0x1fb),_0x1e70c9(0x243)],'negative':[]},'mandatory':{'pass':!![],'passed':[_0x1e70c9(0x1e7),'Liquidez'],'failed':[]},'status':_0x1e70c9(0x20d)};}if(!_0x5bdd7e)continue;const _0x25262d=_0x5bdd7e[_0x1e70c9(0x23e)]?.['score']||0x0;if(_0x25262d>=this[_0x1e70c9(0x227)]['minConfluence'])_0x19a776[_0x1e70c9(0x203)][_0x1e70c9(0x238)](_0x5bdd7e),console[_0x1e70c9(0x202)](_0x1e70c9(0x1f5)+_0x5a5553+_0x1e70c9(0x1fd)+_0x25262d+')');else _0x25262d>=this['config'][_0x1e70c9(0x229)]&&(_0x19a776[_0x1e70c9(0x1ee)][_0x1e70c9(0x238)](_0x5bdd7e),console[_0x1e70c9(0x202)](_0x1e70c9(0x213)+_0x5a5553+_0x1e70c9(0x1fd)+_0x25262d+')'));this[_0x1e70c9(0x1fc)][_0x1e70c9(0x205)]++;}catch(_0x5e3838){console['warn'](_0x1e70c9(0x1ef)+_0x5a5553+':',_0x5e3838[_0x1e70c9(0x20a)]);}}return _0x19a776;},async 'getTickerData'(_0x4ec4dd){const _0x5db669=a0_0x43da;return console[_0x5db669(0x21f)]('‚ö†Ô∏è\x20getTickerData()\x20is\x20deprecated\x20-\x20API\x20calls\x20should\x20be\x20server-side\x20only'),console['log']('üí°\x20Use\x20analyze-symbol\x20Edge\x20Function\x20instead'),null;},'calculateSimpleScore'(_0x4206ac){const _0x22555a=a0_0x43da;let _0x5666d6=0x0;const _0x4e7273=parseFloat(_0x4206ac[_0x22555a(0x204)]);if(_0x4e7273>0x5f5e100)_0x5666d6+=0x28;else{if(_0x4e7273>0x2faf080)_0x5666d6+=0x1e;else{if(_0x4e7273>0x989680)_0x5666d6+=0x14;else{if(_0x4e7273>0xf4240)_0x5666d6+=0xa;}}}const _0x5b4f42=Math[_0x22555a(0x21d)](parseFloat(_0x4206ac[_0x22555a(0x209)]));if(_0x5b4f42>0xa)_0x5666d6+=0x1e;else{if(_0x5b4f42>0x5)_0x5666d6+=0x14;else{if(_0x5b4f42>0x2)_0x5666d6+=0xa;}}const _0x50b27b=parseInt(_0x4206ac[_0x22555a(0x217)]);if(_0x50b27b>0x186a0)_0x5666d6+=0x1e;else{if(_0x50b27b>0xc350)_0x5666d6+=0x14;else{if(_0x50b27b>0x2710)_0x5666d6+=0xa;}}return Math[_0x22555a(0x230)](_0x5666d6,0x64);},async 'fullScan'(){const _0xb0ea1d=a0_0x43da;if(this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x237)]){console[_0xb0ea1d(0x202)](_0xb0ea1d(0x223));return;}this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x237)]=!![],this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x205)]=0x0,this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x203)]=0x0,this['state'][_0xb0ea1d(0x1ee)]=0x0,console['log'](_0xb0ea1d(0x1eb));try{if(typeof SupabaseFunctions!=='undefined'&&typeof SupabaseFunctions[_0xb0ea1d(0x218)]===_0xb0ea1d(0x22d)){console[_0xb0ea1d(0x202)](_0xb0ea1d(0x210)),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x216)+this[_0xb0ea1d(0x227)]['maxSymbols']),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x22f)+this['config']['minConfluence']),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x201)+this['config'][_0xb0ea1d(0x229)]),console[_0xb0ea1d(0x202)]('\x20\x20\x20Routes:\x20'+(this['config'][_0xb0ea1d(0x215)]||_0xb0ea1d(0x1ff))),console['log'](_0xb0ea1d(0x23d)+this[_0xb0ea1d(0x227)]['scanInterval']/0xea60+_0xb0ea1d(0x1ea));const _0x31ef4c=await SupabaseFunctions['scanMarket']({'profile':{'name':_0xb0ea1d(0x200)},'maxSymbols':this['config']['maxSymbols']||0xc8,'minConfluence':this['config'][_0xb0ea1d(0x229)]||0x1e,'minVolume':this[_0xb0ea1d(0x227)][_0xb0ea1d(0x1f3)]||0x4c4b40,'route':this[_0xb0ea1d(0x227)][_0xb0ea1d(0x215)]||_0xb0ea1d(0x1ff)});_0x31ef4c[_0xb0ea1d(0x239)]?(this['state']['opportunities']=_0x31ef4c['opportunities']||0x0,this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x1ee)]=_0x31ef4c[_0xb0ea1d(0x1ee)]||0x0,this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x205)]=_0x31ef4c[_0xb0ea1d(0x236)]||0x0,this['state']['lastScan']=new Date(),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x225)),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x23c)+_0x31ef4c[_0xb0ea1d(0x236)]+_0xb0ea1d(0x1f8)),console['log']('üéØ\x20Opportunities\x20found:\x20'+this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x203)]),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x231)+this['state'][_0xb0ea1d(0x1ee)]),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x1e3)+_0x31ef4c[_0xb0ea1d(0x1f1)]+'ms'),typeof window[_0xb0ea1d(0x232)]===_0xb0ea1d(0x22d)&&(console[_0xb0ea1d(0x202)](_0xb0ea1d(0x22a)),setTimeout(()=>window[_0xb0ea1d(0x232)](),0x7d0))):console['error'](_0xb0ea1d(0x1f0),_0x31ef4c[_0xb0ea1d(0x21a)]);}else console[_0xb0ea1d(0x21f)]('‚ö†Ô∏è\x20SupabaseFunctions.scanMarket\x20not\x20available,\x20using\x20fallback...'),await this[_0xb0ea1d(0x1f9)]();}catch(_0x3956de){console['error']('‚ùå\x20Scan\x20failed:',_0x3956de),console[_0xb0ea1d(0x202)](_0xb0ea1d(0x1e8)),await this[_0xb0ea1d(0x1f9)]();}finally{this[_0xb0ea1d(0x1fc)][_0xb0ea1d(0x237)]=![];}},async 'fallbackScan'(){const _0x11e4e1=a0_0x43da;console[_0x11e4e1(0x202)](_0x11e4e1(0x22b));try{const _0x57a508=await this[_0x11e4e1(0x233)]();this[_0x11e4e1(0x1fc)][_0x11e4e1(0x1e2)]=_0x57a508[_0x11e4e1(0x1f6)];const _0x28eeb6=[];for(let _0x302347=0x0;_0x302347<_0x57a508[_0x11e4e1(0x1f6)];_0x302347+=this[_0x11e4e1(0x227)][_0x11e4e1(0x242)]){_0x28eeb6[_0x11e4e1(0x238)](_0x57a508[_0x11e4e1(0x206)](_0x302347,_0x302347+this[_0x11e4e1(0x227)]['batchSize']));}console[_0x11e4e1(0x202)](_0x11e4e1(0x1fa)+_0x28eeb6[_0x11e4e1(0x1f6)]+'\x20batches\x20(fallback\x20mode)...');const _0x13607=_0x28eeb6[0x0],_0x3eba36=await this[_0x11e4e1(0x1e9)](_0x13607);if(typeof SupabaseService!==_0x11e4e1(0x221))for(const _0x56ca5a of _0x3eba36[_0x11e4e1(0x203)]){await SupabaseService['createOpportunity'](_0x56ca5a),this[_0x11e4e1(0x1fc)]['opportunities']++;}this[_0x11e4e1(0x1fc)][_0x11e4e1(0x222)]=new Date(),console[_0x11e4e1(0x202)](_0x11e4e1(0x214));}catch(_0x169add){console[_0x11e4e1(0x21a)](_0x11e4e1(0x224),_0x169add);}},'start'(){const _0x580e7d=a0_0x43da;console[_0x580e7d(0x202)]('üöÄ\x20Auto\x20Scanner\x20started'),console['log'](_0x580e7d(0x226),{'minConfluence':this['config'][_0x580e7d(0x23b)],'batchSize':this['config'][_0x580e7d(0x242)],'scanInterval':this['config'][_0x580e7d(0x21c)]/0x3e8/0x3c+_0x580e7d(0x1ea)}),console[_0x580e7d(0x202)](_0x580e7d(0x228)),setTimeout(()=>{const _0x54eff0=_0x580e7d;console[_0x54eff0(0x202)](_0x54eff0(0x21b)),this[_0x54eff0(0x1e5)]();},0x1388);const _0x2e79ac=setInterval(()=>{const _0x425e51=_0x580e7d;!this[_0x425e51(0x1fc)][_0x425e51(0x237)]?(console['log'](_0x425e51(0x1ed)),this['fullScan']()):console[_0x425e51(0x202)](_0x425e51(0x240));},this['config'][_0x580e7d(0x21c)]);this[_0x580e7d(0x1f4)]=_0x2e79ac,console[_0x580e7d(0x202)]('‚úÖ\x20Auto\x20Scanner\x20is\x20now\x20active');},'stop'(){const _0x4da520=a0_0x43da;console['log'](_0x4da520(0x23f)),this[_0x4da520(0x1f4)]&&(clearInterval(this['intervalId']),this[_0x4da520(0x1f4)]=null,console[_0x4da520(0x202)](_0x4da520(0x1e6)));}};function a0_0x43da(_0x29fd09,_0x43e502){_0x29fd09=_0x29fd09-0x1e1;const _0x17e0be=a0_0x17e0();let _0x43dad6=_0x17e0be[_0x29fd09];return _0x43dad6;}typeof window!==a0_0x59c1ee(0x221)&&(window[a0_0x59c1ee(0x22c)]=AutoScanner);