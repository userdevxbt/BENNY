/**
 * SHDWXBT - panels-logic.js
 * Copyright (c) 2024-2026 SHDWXBT. All rights reserved.
 * 
 * PROPRIETARY AND CONFIDENTIAL
 * Unauthorized copying, modification, distribution, or use is strictly prohibited.
 * This code is protected by intellectual property laws.
 * 
 * Build: 2026-01-28T12:08:11.533Z
 * Checksum: SHDW-56B843F4
 */
function updatePanels(e){e&&(updateFibonacciPanel(e),updateAlphaDeskPanel(e))}function updateFibonacciPanel(e){const t=document.getElementById("fibonacci-panel");if(!t)return;let n,o;if(e.targets&&e.targets.length>=3?e.swingLow&&e.swingHigh?(n=e.swingLow,o=e.swingHigh):(n=e.targets[0]?.price,o=e.targets[2]?.price):e.fibonacci&&e.fibonacci[0]&&e.fibonacci[1]&&(n=e.fibonacci[1],o=e.fibonacci[0]),!n||!o||isNaN(n)||isNaN(o))return void(t.style.display="none");t.style.display="block";const r=[{label:"0%",pct:0},{label:"23.6%",pct:.236},{label:"38.2%",pct:.382},{label:"50%",pct:.5},{label:"61.8%",pct:.618},{label:"65%",pct:.65},{label:"70.5%",pct:.705},{label:"78.6%",pct:.786},{label:"79%",pct:.79},{label:"88.6%",pct:.886},{label:"100%",pct:1}];function i(e){return n+(o-n)*e}document.getElementById("fib-swing-info")&&(document.getElementById("fib-swing-info").innerHTML=`Swing: <span class="text-emerald-400">${window.formatPrice(n)}</span> â†’ <span class="text-rose-400">${window.formatPrice(o)}</span>`),document.getElementById("fib-levels")&&(document.getElementById("fib-levels").innerHTML=r.map(e=>`<div class="flex justify-between text-xs"><span>${e.label}</span><span class="font-mono text-zinc-300">${window.formatPrice(i(e.pct))}</span></div>`).join(""));const l=[{name:"OTE",from:.618,to:.786,color:"bg-cyan-900/40 text-cyan-200 border border-cyan-700/30"},{name:"Golden",from:.618,to:.65,color:"bg-yellow-900/40 text-yellow-200 border border-yellow-700/30"},{name:"Entry",from:.705,to:.79,color:"bg-emerald-900/40 text-emerald-200 border border-emerald-700/30"},{name:"Premium",from:0,to:.05,color:"bg-rose-900/40 text-rose-200 border border-rose-700/30"},{name:"Discount",from:.95,to:1,color:"bg-green-900/40 text-green-200 border border-green-700/30"},{name:"EQ",from:.5,to:.5,color:"bg-zinc-800/60 text-zinc-300 border border-zinc-700/30"}];document.getElementById("fib-zones")&&(document.getElementById("fib-zones").innerHTML=l.map(e=>`<div class="px-2 py-1 rounded text-[10px] font-mono ${e.color} mb-1 mr-1 inline-block">${e.name}: ${window.formatPrice(i(e.from))}</div>`).join(""))}function updateAlphaDeskPanel(e){const t=document.getElementById("alphadesk-panel");if(!t)return;if(t.style.display="block",!document.getElementById("alphadesk-table"))return;const n="#10b981",o="#f43f5e",r="#71717a";let i="";i+='<div class="w-full">',i+='<div class="grid grid-cols-3 gap-2 mb-2 text-[10px] font-medium text-zinc-500 uppercase tracking-wider text-center"><div>TF</div><div>Trend</div><div>RSI</div></div>',[{tf:"5m",label:"5m"},{tf:"15m",label:"15m"},{tf:"1h",label:"1h"},{tf:"4h",label:"4h"},{tf:"1D",label:"1D"}].forEach(t=>{const{trend:l,rsi:a}=function(t){const n=e.regime&&e.regime[t]?e.regime[t]:null;return n?{trend:"bullish"===n.trend?1:"bearish"===n.trend?-1:0,rsi:n.rsi||"--"}:{trend:Math.random()>.5?1:Math.random()>.5?-1:0,rsi:Math.round(30+40*Math.random())}}(t.tf),c=function(e){return 1===e?n:-1===e?o:r}(l),d=function(e){return 1===e?"Bull":-1===e?"Bear":"-"}(l);i+=`<div class="grid grid-cols-3 gap-2 mb-1.5 items-center bg-white/[0.02] rounded p-1.5 border border-white/5 hover:bg-white/[0.04] transition-colors"><div class="text-center text-[11px] font-mono text-zinc-400">${t.label}</div><div class="text-center text-[10px] font-bold" style="color:${c}">${d}</div><div class="text-center text-[11px] font-mono text-zinc-300">${a}</div></div>`}),i+="</div>",document.getElementById("alphadesk-table").innerHTML=i}window.updatePanels=updatePanels;